/* Header */
.app-header{position:sticky;top:0;z-index:10;background:var(--card);border-bottom:1px solid var(--line)}
.app-header .container{display:flex;align-items:center;justify-content:space-between;height:64px}
.logo{display:flex;gap:10px;align-items:center}
.logo h1{font-size:18px;margin:0}
.header-actions{display:flex;gap:8px}
.icon-btn{border:1px solid var(--line);background:transparent;border-radius:12px;width:40px;height:40px;display:grid;place-items:center;cursor:pointer}
.icon-btn:hover{border-color:var(--brand)}

/* Tabs */
.tab-nav{display:flex;gap:8px;flex-wrap:wrap;padding:18px 0}
.tab-btn{border:1px solid var(--line);background:var(--card);padding:10px 14px;border-radius:14px;cursor:pointer;display:flex;gap:8px;align-items:center}
.tab-btn.active{border-color:var(--brand);box-shadow:var(--shadow)}
.tab-content{padding-bottom:40px}
.tab-pane{display:none}
.tab-pane.active{display:block}

/* Cards */
.form-card,.progress-card,.dashboard-card,.chart-card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);margin-bottom:14px;overflow:hidden}
.card-header{display:flex;align-items:center;gap:12px;padding:16px 16px 0 16px}
.card-header h2{font-size:16px;margin:0}
.step-number{display:inline-grid;place-items:center;width:28px;height:28px;border-radius:10px;background:rgba(255,140,66,.15);color:var(--brand);font-weight:700}
.card-body{padding:16px}

/* Inputs */
label{display:block;margin:0 0 8px 0;color:var(--muted);font-size:13px}
.form-input,.form-select{width:100%;padding:12px 14px;border:1px solid var(--line);border-radius:14px;background:transparent;color:var(--text)}
.form-input:focus,.form-select:focus{outline:none;border-color:var(--brand)}
.button-group{display:flex;gap:8px;flex-wrap:wrap}
.period-btn{border:1px solid var(--line);background:transparent;padding:10px 12px;border-radius:14px;cursor:pointer}
.period-btn.active{border-color:var(--brand)}
.selection-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
@media (max-width:900px){.selection-grid{grid-template-columns:1fr}}
.checkbox-group{display:grid;gap:8px}
.checkbox-label{display:flex;align-items:center;gap:10px;color:var(--text);font-size:14px}
.checkbox-custom{width:18px;height:18px;border:1px solid var(--line);border-radius:6px;display:inline-block}
.checkbox-label input{display:none}
.checkbox-label input:checked + .checkbox-custom{border-color:var(--brand);background:rgba(255,140,66,.2)}
.custom-period .date-inputs{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.date-input-group label{margin-bottom:6px}

/* Mode cards */
.mode-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
@media (max-width:900px){.mode-grid{grid-template-columns:1fr}}
.mode-card{border:1px solid var(--line);border-radius:var(--radius);padding:14px;cursor:pointer;background:transparent}
.mode-card.active{border-color:var(--brand);box-shadow:var(--shadow)}
.mode-card h3{margin:10px 0 6px 0;font-size:14px}
.mode-card p{margin:0;color:var(--muted);font-size:13px}

/* Buttons */
.primary-btn{background:var(--brand);border:none;color:#111827;border-radius:16px;padding:12px 14px;cursor:pointer;font-weight:700}
.primary-btn.large{width:100%;padding:14px 16px;font-size:15px}
.secondary-btn{border:1px solid var(--line);background:var(--card);color:var(--text);border-radius:16px;padding:10px 12px;cursor:pointer}
.secondary-btn:hover{border-color:var(--brand)}

/* Progress */
.progress-section{margin-top:16px}
.progress-bar{height:10px;background:rgba(0,0,0,.06);border-radius:999px;overflow:hidden;border:1px solid var(--line)}
[data-theme="dark"] .progress-bar{background:rgba(255,255,255,.06)}
.progress-fill{height:100%;width:0%}
.progress-status{margin-top:10px;color:var(--muted)}
.progress-details{display:flex;gap:14px;margin-top:10px;color:var(--muted);font-size:13px;flex-wrap:wrap}

/* Report */
.report-actions{display:flex;gap:10px;flex-wrap:wrap;margin:16px 0}
.report-content{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:16px}
.report-content h2{margin:0 0 8px 0;font-size:18px}
.report-content h3{margin:18px 0 8px 0;font-size:15px}
.report-content p, .report-content li{line-height:1.7}
.badge{display:inline-block;border:1px solid var(--line);border-radius:999px;padding:4px 10px;font-size:12px;color:var(--muted);margin-right:6px}

/* History */
.history-list{display:grid;gap:12px}
.history-item{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px}
.history-item .title{font-weight:800}
.history-item .meta{color:var(--muted);font-size:12px;margin-top:6px}
.history-item button{margin-top:10px}

/* Modal */
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;place-items:center;padding:16px}
.modal.show{display:grid}
.modal-content{width:min(560px,100%);background:var(--card);border:1px solid var(--line);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
.modal-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--line)}
.modal-header h2{margin:0;font-size:16px}
.close-modal{border:none;background:transparent;color:var(--muted);font-size:24px;cursor:pointer}
.modal-body{padding:16px;display:grid;gap:14px}
.modal-footer{padding:14px 16px;border-top:1px solid var(--line);display:flex;justify-content:flex-end;gap:10px}

/* Footer */
.app-footer{border-top:1px solid var(--line);padding:24px 0;color:var(--muted)}
